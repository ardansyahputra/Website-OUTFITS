<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OUTFITS | Edit Profile</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/logo.jpeg">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #fdfaf6, #e3f2fd);
      color: #333;
      margin: 0;
      padding: 0;
    }

    /* Navbar */
    .navbar {
      background-color: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .navbar-brand { font-weight: 600; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }

    /* Profile Section */
    .profile-section {
      text-align: center;
      padding: 120px 20px 60px;
      position: relative;
    }
    .profile-pic-lg {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #8bb9ff;
      margin-bottom: 15px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .profile-pic-lg:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .upload-btn {
      display: inline-block;
      margin-top: 10px;
      font-size: 0.9rem;
      color: #007bff;
      cursor: pointer;
    }
    h3 { font-weight: 600; margin-top: 10px; }
    p.desc { color: #777; font-size: 0.9rem; }

    /* Info Sections */
    .info-section { max-width: 900px; margin: 30px auto; }
    .info-section h5 { font-weight: 600; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
    .edit-btn { color: #007bff; cursor: pointer; font-size: 0.9rem; }
    .form-control { border-radius: 50px; padding: 12px 20px; transition: 0.3s; }
    .form-control:disabled { background-color: transparent; border: 1px solid #ccc; }
    .form-control:focus { border-color: #8bb9ff; box-shadow: 0 0 0 0.2rem rgba(139,185,255,0.25); }

    .save-btn {
      display: none;
      background: linear-gradient(90deg, #000, #663d00);
      color: #fff;
      border: none;
      padding: 10px 25px;
      border-radius: 25px;
      font-weight: 500;
      transition: transform 0.2s;
    }
    .save-btn:hover { background: #8bb9ff; transform: scale(1.05); }

    /* Two-column layout on desktop */
    .row-cols-2 { display: flex; flex-wrap: wrap; gap: 20px; }
    .col-custom { flex: 1; min-width: 280px; }

    /* Animations */
    .fade-in { opacity: 0; transform: translateY(20px); transition: all 0.6s ease; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }

    footer {
      background-color: #fff;
      text-align: center;
      padding: 20px;
      color: #888;
      font-size: 0.9rem;
      margin-top: 60px;
    }

    @media(max-width:768px){ .row-cols-2 { flex-direction: column; } }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">
        <img src="images/logo.jpeg" width="45" height="45" alt="logo" style="border-radius:50%;">
        OUTFITS
      </a>
    </div>
  </nav>

    <!-- Profile Photo Section -->
    <section class="profile-section text-center" style="padding-top:140px;">
    <img id="profileImage" src="https://randomuser.me/api/portraits/men/32.jpg" class="profile-pic-lg" style="width:130px;height:130px;border-radius:50%;border:4px solid #8bb9ff;">
    <div>
        <label for="uploadPhoto" class="upload-btn" style="cursor:pointer;color:#007bff;margin-top:10px;display:inline-block;">Upload new photo</label>
        <input type="file" id="uploadPhoto" accept="image/*" style="display:none">
    </div>
    <p style="color:#777; font-size:0.9rem;">At least 800Ã—800 px recommended. JPG or PNG allowed.</p>
    </section>

    <script>
    // Fungsi untuk upload foto dan simpan ke localStorage
    document.getElementById("uploadPhoto").addEventListener("change", function(e){
        const file = e.target.files[0];
        if(file){
        const reader = new FileReader();
        reader.onload = function(event){
            const newSrc = event.target.result;

            // Update foto di profile page
            document.getElementById("profileImage").src = newSrc;

            // Simpan ke localStorage supaya navbar di semua halaman sync
            localStorage.setItem("navbarProfile", newSrc);

            // Update foto navbar di halaman ini jika ada
            const navImg = document.getElementById("navbarProfile");
            if(navImg) navImg.src = newSrc;
        }
        reader.readAsDataURL(file);
        }
    });

    // Load foto tersimpan saat profile.html dibuka
    window.addEventListener("load", () => {
        const savedImg = localStorage.getItem("navbarProfile");
        if(savedImg){
        // Update foto profile page
        document.getElementById("profileImage").src = savedImg;
        // Update navbar di halaman ini jika ada
        const navImg = document.getElementById("navbarProfile");
        if(navImg) navImg.src = savedImg;
        }
    });
    </script>


  <!-- Info Sections Two-column -->
  <div class="info-section fade-in">
    <div class="row row-cols-2">
      <!-- Personal Info -->
      <div class="col-custom">
        <h5>Personal Info <span class="edit-btn" id="editPersonal"><i class="bi bi-pencil"></i> Edit</span></h5>
        <div class="mb-3"><input type="text" id="fullName" class="form-control" disabled value="Ronald Richards"></div>
        <div class="mb-3"><input type="email" id="email" class="form-control" disabled value="RonaldRich@example.com"></div>
        <div class="mb-3"><input type="tel" id="phone" class="form-control" disabled value="(219) 555-0114"></div>
        <button class="save-btn" id="savePersonal">Save Changes</button>
      </div>

      <!-- Location Info -->
      <div class="col-custom">
        <h5>Location <span class="edit-btn" id="editLocation"><i class="bi bi-pencil"></i> Edit</span></h5>
        <div class="mb-3"><input type="text" id="location" class="form-control" disabled value="California"></div>
        <button class="save-btn" id="saveLocation">Save Changes</button>
      </div>
    </div>
  </div>

  <!-- Bio Section -->
  <div class="info-section fade-in">
    <h5>Bio <span class="edit-btn" id="editBio"><i class="bi bi-pencil"></i> Edit</span></h5>
    <textarea id="bio" class="form-control" rows="5" disabled>Hi ðŸ‘‹, I'm Ronald, a passionate UX designer with 10 years of experience in creating intuitive and user-centered digital experiences.</textarea>
    <button class="save-btn" id="saveBio">Save Changes</button>
  </div>

  <footer>
    Â© 2025 OUTFITS. All Rights Reserved.
  </footer>

  <script>
    // Upload photo
    document.getElementById("uploadPhoto").addEventListener("change", function(e) {
      const file = e.target.files[0];
      if(file){
        const reader = new FileReader();
        reader.onload = function(event){
          document.getElementById("profileImage").src = event.target.result;
          localStorage.setItem("profileImage", event.target.result);
        }
        reader.readAsDataURL(file);
      }
    });

    // Load saved data
    window.addEventListener("load", () => {
      const savedImg = localStorage.getItem("profileImage");
      if(savedImg) document.getElementById("profileImage").src = savedImg;
      ["fullName","email","phone","location","bio"].forEach(id=>{
        const val = localStorage.getItem(id);
        if(val) document.getElementById(id).value = val;
      });

      // Fade-in animation
      document.querySelectorAll(".fade-in").forEach(el=>{
        setTimeout(()=>el.classList.add("visible"), 200);
      });
    });

    // Edit & Save functionality
    const sections = [
      {edit:"editPersonal", save:"savePersonal", fields:["fullName","email","phone"]},
      {edit:"editLocation", save:"saveLocation", fields:["location"]},
      {edit:"editBio", save:"saveBio", fields:["bio"]}
    ];
    sections.forEach(sec=>{
      const editBtn = document.getElementById(sec.edit);
      const saveBtn = document.getElementById(sec.save);

      editBtn.addEventListener("click", ()=>{
        sec.fields.forEach(id=>document.getElementById(id).disabled=false);
        saveBtn.style.display="inline-block";
        editBtn.style.display="none";
      });

      saveBtn.addEventListener("click", ()=>{
        sec.fields.forEach(id=>{
          const el = document.getElementById(id);
          el.disabled=true;
          localStorage.setItem(id, el.value);
        });
        saveBtn.style.display="none";
        editBtn.style.display="inline-block";
        alert("Changes saved successfully!");
      });
    });
  </script>
</body>
</html>
